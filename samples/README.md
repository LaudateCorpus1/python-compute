# Code samples for the Compute Engine library

In this folder you can find the source code for the code samples used throughout the 
[public documentation](https://cloud.google.com/compute/docs/) of Google Compute Engine.

The samples can be found in the `snippets` folder, where they are organized to mimic the
structure of the public documentation. File that are saved there are generated by the `sgs.py`
script from pieces found in `ingredients` and `recipies`. This way, one piece of code can be easily
included in multiple snippets and updating the code requires less work.

## Working with the SGS

SGS (Snippet Generating System) works by scanning the `recipies` folder, finding all files
and fills them with pieces of code found in `ingredients`. The folder structure of `recipies` is reconstructed in
the `snippets` folder.

### Adding new sample

To create a new sample, just prepare a new file in one of the `recipies` subfolders. The SGS will pick it up 
automatically when you run it, by executing `python3 sgs.py` in this directory.

### Removing/moving a sample

To remove or move a sample, you need to simply modify the `recipies` folder to match your desired structure. The SGS
script will recreate the structure in the `snippets` folder.

### Interacting with GIT

SGS will not interact with Git repository in any way. All changes made by the script need to be committed manually - 
preferably in the same commit as the update to the source files.


## Preparing a recipe
Each recipe is a file located in the `recipies` folder. It should have the `.py` extension, but the content is not
validated if it is a proper Python script. Each recipe has to have an `##IMPORTS` tag and at 
least one `##INGREDIENT <name>` tag. Apart from those restrictions, the contents of the file can be whatever you want.

The SGS will copy the recipe file to the destination folder in `snippets` and replace the `##IMPORTS` and 
`##INGREDIENTS <name>` tags with the `import` statements required by the used ingredients and with the ingredients
bodies.

